---
id: database
title: Database
description: Use Supabase to manage your data.
---


import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Supabase is built on top of [Postgres](/docs/postgres/server/about), an extremely scalable Relational Database.

## Features

### Table View 

You don't have to be a database expert to start using Supabase. Our table view makes Postgres as easy to use as a spreadsheet.

![Table View.](/img/table-view.png)


### Relationships

Dig into the relationships within your data. 


<video width="99%" loop="" muted="" playsInline="" controls="true">
<source src="/videos/relational-drilldown-zoom.mp4" type="video/mp4" />
</video>

<!-- 
### Clone tables

You can duplicate your tables, just like you would inside a spreadsheet.

<video width="99%" muted playsInline controls={true}>
<source src="/videos/duplicate-tables.mp4" type="video/mp4" muted playsInline />
</video> -->


### The SQL Editor

Supabase comes with a SQL Editor. You can also save your favorite queries to run later! 

<video width="99%" muted playsInline controls={true}>
<source src="/videos/favorites.mp4" type="video/mp4" muted playsInline />
</video>

### Extensions

To expand the functionality of your Postgres database, you can use extensions.
You can enable Postgres extensions with the click of a button within the Supabase dashboard.

<video width="99%" muted playsInline controls={true}>
<source src="/videos/toggle-extensions.mp4" type="video/mp4" muted playsInline />
</video>

[Learn more](/docs/guides/database/extensions) about all the extensions provided on Supabase.


### Additional features

- Supabase extends Postgres with realtime functionality using our [Realtime Server](https://github.com/supabase/realtime).
- Every project is a full Postgres database, with `postgres` level access.
- Managed backups - Supabase handles all your database backups.[^backups]
- Data imports - import directly from a CSV or excel spreadsheet.

[^backups] Database backups do _NOT_ include objects stored via the Storage API, as the database only includes metadata about these objects. Restoring an old backup will not restore objects that have been deleted since then.



## Client Libraries


### Read data

Since Postgres is a Relational database, the client makes it simple to query tables and fetch related data in one round-trip, using [`select()`](/docs/reference/javascript/select).


<Tabs
  groupId="libraries"
  defaultValue="js"
  values={[{ label: 'JavaScript', value: 'js' },{ label: 'Python', value: 'py' },{ label: 'Dart', value: 'dart'}]}>

<TabItem value="js">

```js
const { data, error } = await supabase
  .from('countries')
  .select(`
    name,
    cities (
      name
    )
  `)
```


</TabItem>
<TabItem value="py">

```py
import os
from supabase_py import create_client, Client

url: str = os.environ.get("SUPABASE_TEST_URL")
key: str = os.environ.get("SUPABASE_TEST_KEY")
supabase: Client = create_client(url, key)

data = supabase.from_('countries').select('name').execute()
```


</TabItem>
  
<TabItem value="dart">

```dart
import 'package:supabase/supabase.dart';

void main() async {
  final client = SupabaseClient('supabaseUrl', 'supabaseKey');

  // Query tables and fetch related data in one round-trip, using select()
  final response = await client
      .from('countries')
      .select('name')
      .execute();
}
```

</TabItem>

</Tabs>


### Filter rows

You can do advanced [filtering](/docs/reference/javascript/using-filters) to extract only the data that you need.


<Tabs
  groupId="libraries"
  defaultValue="js"
  values={[{ label: 'JavaScript', value: 'js' },{ label: 'Python', value: 'py' },{ label: 'Dart', value: 'dart'}]}>

<TabItem value="js">

```js
const { data, error } = await supabase
  .from('cities')
  .select('name, country_id')
  .lt('country_id', 100)
  .limit(10)
```


</TabItem>
<TabItem value="py">

```py
# Not yet implemented
```


</TabItem>
  
<TabItem value="dart">

```dart
import 'package:supabase/supabase.dart';

void main() async {
  final client = SupabaseClient('supabaseUrl', 'supabaseKey');

  // When fetching data, use advanced filtering to only extract data, that you need.
  final response = await client
      .from('cities')
      .select('name,country_id')
      .lt('country_id', 100)
      .limit(10)
      .execute();
}
```

</TabItem>

</Tabs>

### Insert data

You can create data easily using [`insert()`](/docs/reference/javascript/insert).



<Tabs
  groupId="libraries"
  defaultValue="js"
  values={[{ label: 'JavaScript', value: 'js' },{ label: 'Python', value: 'py' },{ label: 'Dart', value: 'dart'}]}>

<TabItem value="js">

```js
const { data, error } = await supabase
  .from('cities')
  .insert([
    { name: 'The Shire', country_id: 554 },
    { name: 'Rohan', country_id: 555 },
  ])
```


</TabItem>
<TabItem value="py">

```py
# Not yet implemented
```


</TabItem>
  
<TabItem value="dart">

```dart
import 'package:supabase/supabase.dart';

void main() async {
  final client = SupabaseClient('supabaseUrl', 'supabaseKey');

  // Create data easily, using insert()
  final response = await client
      .from('cities')
      .insert([
        { 'name': 'The Shire', 'country_id': 554 },
        { 'name': 'Rohan', 'country_id': 555 },
       ])
      .execute();
}
```

</TabItem>

</Tabs>


### Realtime Changes

The Supabase client makes it simple to listen to realtime database changes, using [`subscribe()`](/docs/reference/javascript/subscribe).


<Tabs
  groupId="libraries"
  defaultValue="js"
  values={[{ label: 'JavaScript', value: 'js' },{ label: 'Python', value: 'py' },{ label: 'Dart', value: 'dart'}]}>

<TabItem value="js">

```js
const mySubscription = supabase
  .from('countries')
  .on('*', payload => {
    console.log('Change received!', payload)
  })
  .subscribe()
```


</TabItem>
<TabItem value="py">

```py
# Not yet implemented
```


</TabItem>
  
<TabItem value="dart">

```dart
import 'package:supabase/supabase.dart';

void main() async {
  final client = SupabaseClient('supabaseUrl', 'supabaseKey');

  // Listen to realtime database changes, using subscribe()
  final response = await client
      .from('countries')
      .on(SupabaseEventTypes.all, (payload) {
        print('Something happened: ${payload.eventType}');
      })
      .subscribe((String event, {String? errorMsg}) {
        print('event: $event error: $errorMsg');
      });
}
```

</TabItem>

</Tabs>


You can even [listen to Row Level changes](/docs/reference/javascript/subscribe#listening-to-row-level-changes).


<Tabs
  groupId="libraries"
  defaultValue="js"
  values={[{ label: 'JavaScript', value: 'js' },{ label: 'Python', value: 'py' },{ label: 'Dart', value: 'dart'}]}>

<TabItem value="js">

```js
const mySubscription = supabase
  .from('countries:id.eq.200')
  .on('UPDATE', handleRecordUpdated)
  .subscribe()
```


</TabItem>
<TabItem value="py">

```py
# Not yet implemented
```


</TabItem>
  
<TabItem value="dart">

```dart
import 'package:supabase/supabase.dart';

void main() async {
  final client = SupabaseClient('supabaseUrl', 'supabaseKey');

  // You can even listen to Row Level changes
  final response = await client
      .from('countries:id.eq.200')
      .on(SupabaseEventTypes.update, (payload) {
        print('Something happened: ${payload.eventType}');
      })
      .subscribe((String event, {String? errorMsg}) {
        print('event: $event error: $errorMsg');
      });
}
```

</TabItem>

</Tabs>


## Tips

### Realtime 

Supabase provides a realtime engine on top of Postgres, so that you can listen to changes as they happen. 
Our realtime engine uses the built-in replication functionality of Postgres. 
You can manage the realtime system, simply by 
[updating](/docs/reference/postgres/publications) the `supabase_realtime` publication.

For example to enable realtime only for individual tables:

```sql
begin; 
  -- remove the realtime publication
  drop publication if exists supabase_realtime; 

  -- re-create the publication but don't enable it for any tables
  create publication supabase_realtime;  
commit;

-- add a table to the publication
alter publication supabase_realtime add table products;

-- add other tables to the publication
alter publication supabase_realtime add table posts;
```

By default only "new" values are sent, but if you want to receive the old record (previous values) whenever you `update` or `delete` a record, 
you can update the replica identity of your tables, setting it to `full`:

```sql
alter table your_table replica identity full;
```

### Migrating between projects

If you have an existing Supabase Project and you want to migrate it into a new (fresh) Project, you can simply follow these steps:

#### Before you begin

- Make sure [Realtime is disabled](/docs/guides/api#managing-realtime). This will improve the performance of inserts on your new database.
- Make sure you have [`psql`](https://www.postgresql.org/docs/13/app-psql.html) installed on your computer so that you can run `pg_dump`.

#### Migrate the database

First we want to grab the database structure only:

```sh
pg_dump \
-h db.PROJECT_REF.supabase.co \
-U postgres \
--clean \
--schema-only \
> supabase_schema.sql
```

This command creates a file on your computer called `supabase_schema.sql`. 

After creating a new Supabase project we can use it to restore the database structure:

```sh
psql \
-h db.NEW_PROJECT_REF.supabase.co \
-U postgres \
< supabase_schema.sql
```

You may see some errors - the restore will attempt to drop any tables if they are present, 
and if they aren't present then an error will be displayed. These errors are informative only and nothing to worry about.


#### (Optionally) Migrate the data

We can migrate everything in our database, however we don't want to migrate 
the data in our `storage` schema because the files exist outside of the database. 
For now, we can just get all the data inside the `public` and `auth` schemas:

```sh
pg_dump \
-h db.PROJECT_REF.supabase.co \
-U postgres \
--data-only \
-n public \
-n auth \
> supabase_data.sql
```

This command creates a file on your computer called `supabase_data.sql`.  We can use this file to restore the data in our new database:

```sh
psql \
-h db.NEW_PROJECT_REF.supabase.co \
-U postgres \
< supabase_data.sql
```


### Resetting your project password

When you create a new project in Supabase we ask for a password. You can use this password to connect directly to your Postgres database.

If you forget your password, you can reset it from the Dashboard SQL editor:

For example:

```sql
alter user postgres 
with password 'new_password';
```

Read more in [Database Configuration](/docs/reference/postgres/database-passwords).

### Changing the timezone of your server.

Your database is initialized with the UTC timezone. We recommend keeping it this way, as it is helpful for time calculations.
If, however, you want to update the timezone, you can do so using any of the [database timezones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones).

For example:

```sql
alter database postgres set timezone to 'America/New_York';
```

Read more in [Database Configuration](/docs/reference/postgres/changing-timezones).

## Next steps

- Read more about [Postgres](/docs/postgres/server/about)
- Sign in: [app.supabase.io](https://app.supabase.io)

